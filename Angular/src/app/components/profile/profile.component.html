<app-navbar></app-navbar>
<div class="container mt-5">
  <div *ngIf="showSuccess" class="alert alert-success mt-3" role="alert">
    Profile updated successfully!
  </div>
  <div class="row justify-content-center align-items-center">
    <div class="col-md-3">
      <div
        class="m-auto p-3 rounded text-center"
        style="max-width: 200px; max-height: 200px; background-color: #e0e0f0"
      >
        <img
          src="../../../assets/images/profile.png"
          alt="Profile Picture"
          class="img-fluid mb-3 profile-img"
        />
      </div>
    </div>
    <div class="col-md-9">
      <form
        [formGroup]="profileForm"
        (ngSubmit)="onSubmit(profileForm)"
        class="bg-light p-3 rounded"
      >
        <h1 class="text-center mb-4 fw-bold fs-3">My Profile</h1>
        <div class="form-group mb-3">
          <label for="name">Name</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
          />
          <div
            *ngIf="
              profileForm.get('name')?.invalid &&
              (profileForm.get('name')?.dirty ||
                profileForm.get('name')?.touched)
            "
            class="text-danger mt-2"
          >
            <small *ngIf="profileForm.get('name')?.errors?.['minlength']"
              >Must be at least 3 characters long.</small
            >
            <small *ngIf="profileForm.get('name')?.errors?.['maxlength']"
              >Maximum length is 50 characters.</small
            >
            <small *ngIf="profileForm.get('name')?.errors?.['pattern']"
              >Please enter a valid name. It must contain characters
              only.</small
            >
            <small *ngIf="profileForm.get('name')?.errors?.['required']"
            >name can't be empty.</small
          >
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="email">Email address</label>
          <input type="email" formControlName="email" class="form-control" />
          <div
            *ngIf="
              profileForm.get('email')?.invalid &&
              (profileForm.get('email')?.dirty ||
                profileForm.get('email')?.touched)
            "
            class="text-danger mt-2"
          >
            <small *ngIf="profileForm.get('email')?.errors?.['email']"
              >Please enter a valid email address.</small
            >

            <small *ngIf="profileForm.get('email')?.errors?.['required']"
            >email can't be empty.</small
          >
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="phone">Phone number</label>
          <input
            type="text"
            id="phone"
            formControlName="phoneNumber"
            class="form-control"
          />
          <div
            *ngIf="
              profileForm.get('phoneNumber')?.invalid &&
              (profileForm.get('phoneNumber')?.dirty ||
                profileForm.get('phoneNumber')?.touched)
            "
            class="text-danger mt-2"
          >
            <small *ngIf="profileForm.get('phoneNumber')?.errors?.['pattern']"
              >Please enter a valid phone number starting with (010|011|012) and
              consists of 11 digits.</small
            >
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="address">Address</label>
          <input type="text" formControlName="address" class="form-control" />
        </div>

        <div class="mt-4">
          <button type="submit" class="btn btn-custom" [disabled]="profileForm.invalid">Update</button>
          <button
            type="button"
            class="btn btn-secondary ms-2"
            (click)="onCancel()"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- <button routerLink="/orders" class="btn btn-primary w-25 mx-auto d-block">Your Orders</button> -->